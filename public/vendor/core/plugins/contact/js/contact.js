(()=>{function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var n=function(){function n(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n)}var t,a,r;return t=n,(a=[{key:"init",value:function(){$(document).on("click",".answer-trigger-button",(function(e){e.preventDefault(),e.stopPropagation();var n=$(".answer-wrapper");n.is(":visible")?n.fadeOut():n.fadeIn(),window.EDITOR=(new EditorManagement).init()})),$(document).on("click",".answer-send-button",(function(e){e.preventDefault(),e.stopPropagation(),$(e.currentTarget).addClass("button-loading");var n=$("#message").val();"undefined"!=typeof tinymce&&(n=tinymce.get("message").getContent()),$httpClient.make().post(route("contacts.reply",$("#input_contact_id").val()),{message:n}).then((function(e){var n=e.data;if($(".answer-wrapper").fadeOut(),"undefined"!=typeof tinymce)tinymce.get("message").setContent("");else{$("#message").val("");var t=document.querySelector(".answer-wrapper .ck-editor__editable");if(t){var a=t.ckeditorInstance;a&&a.setData("")}}Botble.showSuccess(n.message),$("#reply-wrapper").load(window.location.href+" #reply-wrapper > *")})).finally((function(){$(e.currentTarget).removeClass("button-loading")}))}))}}])&&e(t.prototype,a),r&&e(t,r),n}();$(document).ready((function(){(new n).init()}))})();